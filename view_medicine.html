<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ medicine['name'] }}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
<div class="container py-5">

    <div class="card shadow-sm p-4 mx-auto" style="max-width:600px;">
        <h3 class="text-center mb-3">{{ medicine['name'] }}</h3>

        <p><strong>Manufacturer:</strong> {{ medicine['manufacturer'] }}</p>
        <p><strong>MFG:</strong> {{ medicine['manufacture_date'] }}</p>
        <p><strong>EXP:</strong> {{ medicine['expiry_date'] }}</p>
        <p><strong>Price:</strong> â‚¹{{ medicine['price'] }}</p>
        <p><strong>Info:</strong> {{ medicine['additional_info'] }}</p>
        <p class="text-muted"><small>Last updated: {{ medicine['last_updated'] }}</small></p>

        {% if medicine['qr_path'] %}
        <div class="text-center mt-3">
            <img src="/{{ medicine['qr_path'] }}" alt="QR Code" width="180">
            <div class="mt-2">
                <a href="/{{ medicine['qr_path'] }}" download class="btn btn-sm btn-outline-secondary me-2">Download QR</a>
                <button class="btn btn-sm btn-outline-info me-2"
                        onclick="alert(`Name: {{ medicine['name'] }}\nManufacturer: {{ medicine['manufacturer'] }}\nManufacture Date: {{ medicine['manufacture_date'] }}\nExpiry Date: {{ medicine['expiry_date'] }}\nPrice: {{ medicine['price'] }}\nAdditional Info: {{ medicine['additional_info'] }}`)">
                    View QR Text
                </button>
                <button class="btn btn-sm btn-outline-success" 
                        onclick="copyText(`Name: {{ medicine['name'] }}\nManufacturer: {{ medicine['manufacturer'] }}\nManufacture Date: {{ medicine['manufacture_date'] }}\nExpiry Date: {{ medicine['expiry_date'] }}\nPrice: {{ medicine['price'] }}\nAdditional Info: {{ medicine['additional_info'] }}`)">
                    Copy QR Text
                </button>
            </div>
        </div>
        {% endif %}

        <div class="text-center mt-4">
            <a href="{{ url_for('dashboard') }}" class="btn btn-outline-primary">Back to Dashboard</a>
        </div>
    </div>
</div>

<script>
function copyText(text) {
    navigator.clipboard.writeText(text).then(() => {
        alert('Text copied to clipboard!');
    }).catch(err => {
        alert('Failed to copy: ' + err);
    });
}
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
